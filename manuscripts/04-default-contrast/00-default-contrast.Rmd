class: inverse, middle, center

# Examples of different default contrast types (pp.8--9)

---

class: inverse, middle
<!-- class: inverse, middle, split-50 -->

## さまざまな対比行列

1. Contrast matrices
2. Treatment contrast
3. Sum contrast
4. Repeated contrast
5. Polynomial contrast
6. Helmert contrast
7. 任意の対比行列を充てる方法

---

::::: block

### Contrast matrices

- 対比を表す係数値（傾き・切片）は，係数値の行列で表現される
- 係数値の行列は，対比行列で実装される

:::::

---

```{r child = "01-treatment.Rmd"}
```

```{r child = "02-sum.Rmd"}
```

```{r child = "03-repeated.Rmd"}
```

```{r child = "04-polynomial.Rmd"}
```

```{r child = "05-helmert.Rmd"}
```

`r chunk_reveal("multiple-contrasts", left_assign = "detect", break_type = "rotate", title = "## 任意の対比行列を充てる方法",  display_type = c("code", "output", "md"), md = c("Treatment contrastsを適用", "Sum contrastsを適用", "Repeated contrastsを適用", "Polynomial contrastsを適用", "Helmert contrastsを適用", "希望するcontrastsになったか確認", "統計モデル構築", "結果表示"), widths = c(3, 3, 2))`

```{r}
#| multiple-contrasts,
#| include = FALSE

set.seed(1212); simdatContrasts <- mixedDesign(
#### 被験者間計画での水準数 ####
  B = 3,
#### 被験者内計画での水準数 ####
  W = NULL,
#### 被験者間計画での1水準あたりの実験参加者数 ####
  n = 20,
#### 水準ごとの応答変数の平均を示した行列 ####
#### 各行に水準ごとの応答変数の平均を入れる ####
  M = matrix(
    c(600, 400, 300),
    nrow = 3,
    ncol = 1,
    byrow = FALSE
  ),
#### 要因の標準偏差 ####
  SD = 100,
#### 「1試行1データ」の整然データでデータフレームを作成 ####
  long = TRUE
)

contrasts(simdatContrasts$B_A) <- contr.treatment(3) #ROTATE
contrasts(simdatContrasts$B_A) <- contr.sum(3) #ROTATE
contrasts(simdatContrasts$B_A) <- contr.sdif(3) #ROTATE
contrasts(simdatContrasts$B_A) <- contr.poly(3) #ROTATE
contrasts(simdatContrasts$B_A) <- contr.helmert(3) #ROTATE

contrasts(simdatContrasts$B_A)

lm(DV ~ B_A, data = simdatContrasts) |>
  summary()
```